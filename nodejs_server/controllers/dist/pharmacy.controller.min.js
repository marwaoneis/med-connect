"use strict";var Pharmacy=require("./../models/pharmacy.model"),createPharmacy=function(r,a){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Pharmacy(r.body),e.next=4,regeneratorRuntime.awrap(t.save());case 4:a.status(201).json(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a.status(400).json({error:e.t0.message});case 10:case"end":return e.stop()}},null,null,[[0,7]])},getAllPharmacies=function(e,r){var a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Pharmacy.find());case 3:a=e.sent,r.status(200).json(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r.status(500).json({error:"Internal Server Error"});case 10:case"end":return e.stop()}},null,null,[[0,7]])},getPharmacyById=function(r,a){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Pharmacy.findById(r.params.id));case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",a.status(404).json({error:"Pharmacy not found"}));case 6:a.status(200).json(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a.status(500).json({error:"Internal Server Error"});case 12:case"end":return e.stop()}},null,null,[[0,9]])},updatePharmacyById=function(r,a){var t,n,s,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=r.params.id,n=r.body,e.next=5,regeneratorRuntime.awrap(Pharmacy.findById(t));case 5:if(s=e.sent){e.next=8;break}return e.abrupt("return",a.status(404).json({error:"Pharmacy not found"}));case 8:return n.username&&(s.username=n.username),n.password&&(s.password=n.password),n.address&&(s.address=n.address),n.phone&&(s.phone=n.phone),e.next=14,regeneratorRuntime.awrap(s.save());case 14:c=e.sent,a.status(200).json(c),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),a.status(500).json({error:"Internal Server Error"});case 21:case"end":return e.stop()}},null,null,[[0,18]])},deletePharmacyById=function(r,a){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Pharmacy.findByIdAndDelete(r.params.id));case 3:if(e.sent){e.next=6;break}return e.abrupt("return",a.status(404).json({error:"Pharmacy not found"}));case 6:a.status(200).json({message:"Pharmacy Deleted"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a.status(500).json({error:"Internal Server Error"});case 12:case"end":return e.stop()}},null,null,[[0,9]])},getPharmacyByUsername=function(r,a){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Pharmacy.findOne({username:r.params.username}));case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",a.status(404).json({error:"Pharmacy not found"}));case 6:a.status(200).json(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a.status(500).json({error:"Internal Server Error"});case 12:case"end":return e.stop()}},null,null,[[0,9]])},getPharmaciesByAddress=function(r,a){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Pharmacy.find({address:r.params.address}));case 3:t=e.sent,a.status(200).json(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a.status(500).json({error:"Internal Server Error"});case 10:case"end":return e.stop()}},null,null,[[0,7]])};module.exports={createPharmacy:createPharmacy,getAllPharmacies:getAllPharmacies,getPharmacyById:getPharmacyById,updatePharmacyById:updatePharmacyById,deletePharmacyById:deletePharmacyById,getPharmacyByUsername:getPharmacyByUsername,getPharmaciesByAddress:getPharmaciesByAddress};
//# sourceMappingURL=pharmacy.controller.min.js.map
